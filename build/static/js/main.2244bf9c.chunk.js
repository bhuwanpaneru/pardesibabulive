(this["webpackJsonpamzon-clone"]=this["webpackJsonpamzon-clone"]||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(3),a=c.n(s),i=c(24),r=c.n(i),o=(c(47),c(10)),l=(c(48),c(18)),j=c(9),d=(c(49),c(38)),u=c.n(d),b=Object(s.createContext)(),h=function(e){var t=e.reducer,c=e.initailState,a=e.children;return Object(n.jsx)(b.Provider,{value:Object(s.useReducer)(t,c),children:a})},O=function(){return Object(s.useContext)(b)},p=(c(50),c(31)),m=(p.a.initializeApp({apiKey:"AIzaSyC0aqkaSX_Aki3slW_mL5eAqSQ-Shuv4lg",authDomain:"clone-a65f3.firebaseapp.com",projectId:"clone-a65f3",storageBucket:"clone-a65f3.appspot.com",messagingSenderId:"873766591781",appId:"1:873766591781:web:a960a202e978a274398ecc",measurementId:"G-YRD2W7MV46"}).firestore(),p.a.auth());var x=function(){var e=Object(j.f)(),t=Object(s.useState)(""),c=Object(o.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)(""),d=Object(o.a)(r,2),u=d[0],b=d[1];return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)(l.b,{to:"#",children:Object(n.jsxs)("p",{className:"logo-container",children:[Object(n.jsx)("h1",{className:"header-logo-login-text",children:"Pardesi Babu"}),Object(n.jsx)("h5",{className:"header-logo-login",children:"-An online vegetables shop"})]})}),Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("h5",{children:"E-mail"}),Object(n.jsx)("input",{type:"email",value:a,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("h5",{children:"Password"}),Object(n.jsx)("input",{type:"password",value:u,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),m.signInWithEmailAndPassword(a,u).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login-sign-in-button",children:"Sign In"})]}),Object(n.jsx)("p",{children:"By continuing, you agree to Pardesi Babu's Conditions of Use and Privacy Notice."}),Object(n.jsxs)("div",{className:"login-register",children:[Object(n.jsx)("button",{onClick:function(t){t.preventDefault(),t.preventDefault(),m.createUserWithEmailAndPassword(a,u).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login-register-button",children:"Create your Account"}),Object(n.jsx)("button",{onClick:function(){e.push("/")},className:"login-back-button",children:"Back"})]})]})]})},g=c(27),v=c.n(g);var f=function(){var e=O(),t=Object(o.a)(e,2),c=t[0],a=c.basket,i=c.user,r=c.products,j=t[1];return Object(s.useEffect)((function(){return v()("EB3FCIC43Q","5132cdd02836c1964b226c262289b924").initIndex("test_live").search("*").then((function(e){var t=e.hits;j({type:"SET_PRODUCTS",products:t})})).catch((function(e){console.log(e)})),function(){}}),[]),console.log("Sign In",i),Object(n.jsxs)("nav",{className:"header",children:[Object(n.jsx)(l.b,{to:"/",children:Object(n.jsxs)("p",{className:"add-jus",children:[Object(n.jsx)("h1",{className:"header-logo",children:"Pardesi Babu"}),Object(n.jsx)("h5",{className:"add-left",children:"-An online vegetables shop"})]})}),Object(n.jsx)("div",{className:"header-search",children:Object(n.jsx)("input",{type:"text",className:"header-search-box",onChange:function(e){var t=e.target.value;v()("EB3FCIC43Q","5132cdd02836c1964b226c262289b924").initIndex("test_live").search(t).then((function(e){var t=e.hits;j({type:"SET_PRODUCTS",products:t}),console.log("prodducts",r)})).catch((function(e){console.log(e)}))},placeholder:"type here"})}),Object(n.jsxs)("div",{className:"header-nav",children:[Object(n.jsx)(l.b,{to:!i&&"/login",className:"header-link",onClick:function(){i&&m.signOut()},children:Object(n.jsxs)("div",{className:"header-nav-option",children:[Object(n.jsxs)("span",{className:"header-nav-option-one",children:["hello ",null===i||void 0===i?void 0:i.email]}),Object(n.jsx)("span",{className:"header-nav-option-two",children:i?"Sign Out":"Sign In"})]})}),Object(n.jsx)(l.b,{to:"/checkout",className:"header-link",children:Object(n.jsxs)("div",{className:"header-nav-option-basket",children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("span",{className:"header-nav-option-two header-basket-counts",children:null===a||void 0===a?void 0:a.length})]})})]})]})},k=(c(59),c.p,c.p,c.p+"static/media/sabji.61354831.webp"),N=c.p+"static/media/sabjibanner.ec1bd27d.jpg",S=(c(60),c(39)),y=c.n(S);var C=function(e){var t=e.id,c=e.title,s=e.image,a=e.price,i=e.rating,r=O(),l=Object(o.a)(r,2),j=(l[0].basket,l[1]);return Object(n.jsxs)("div",{className:"products",children:[Object(n.jsxs)("div",{className:"produst-info",children:[Object(n.jsx)("p",{className:"title",children:c}),Object(n.jsxs)("p",{className:"products-proce",children:[Object(n.jsx)("small",{children:"$"}),Object(n.jsx)("strong",{children:a})]}),Object(n.jsx)("div",{className:"products-rating",children:Array(i).fill().map((function(e){return Object(n.jsx)("p",{children:Object(n.jsx)(y.a,{})})}))})]}),Object(n.jsx)("img",{src:s,alt:""}),Object(n.jsx)("button",{onClick:function(){j({type:"ADD_TO_BASKET",item:{id:t,title:c,image:s,price:a,rating:i}})},children:"Add to basket"})]})};var E=function(){var e=O(),t=Object(o.a)(e,2),c=t[0],s=(c.basket,c.user,c.products);return t[1],Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)("img",{className:"home-image",src:k,alt:""}),Object(n.jsx)("div",{className:"display-grid",children:s&&s.map((function(e){return Object(n.jsx)("div",{className:"home-product",children:Object(n.jsx)(C,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})}))})]})};c(61),c(62);var T=function(e){var t=e.id,c=e.title,s=e.image,a=e.price,i=e.rating;console.log("id, title, image, price, rating",t,c,s,a,i);var r=O(),l=Object(o.a)(r,2),j=(l[0].basket,l[1]);return Object(n.jsxs)("div",{className:"checkout-products",children:[Object(n.jsx)("img",{className:"checkout-product-image",src:s,alt:""}),Object(n.jsxs)("div",{className:"checkoutProduct-info",children:[Object(n.jsx)("p",{className:"checkout-product-title",children:c}),Object(n.jsxs)("p",{className:"checkout-product-price",children:[Object(n.jsx)("small",{children:"$"}),Object(n.jsx)("strong",{children:a})]}),Object(n.jsx)("div",{className:"checkout-product-rating",children:Array(i).fill().map((function(e,t){return Object(n.jsx)("p",{children:"*"})}))}),Object(n.jsx)("button",{onClick:function(){j({type:"REMOVE_FROM_BASKET",id:t})},children:"Romove from basket"})]})]})},A=(c(63),c(40)),B=c.n(A),_=c(32),I=c(20),D=function(e,t){switch(t.type){case"SET_PRODUCTS":return Object(I.a)(Object(I.a)({},e),{},{products:t.products});case"SET_USER":return Object(I.a)(Object(I.a)({},e),{},{user:t.user});case"ADD_TO_BASKET":return Object(I.a)(Object(I.a)({},e),{},{basket:[].concat(Object(_.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var c=Object(_.a)(e.basket),n=e.basket.findIndex((function(e){return e.id===t.id}));return n>=0?c.splice(n,1):console.warn("Cant remove product (id: ".concat(t.id,") as it's not in basket")),Object(I.a)(Object(I.a)({},e),{},{basket:c});default:return{state:e}}},P=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)};var w=function(){var e=O(),t=Object(o.a)(e,2),c=t[0].basket,s=(t[1],Object(j.f)());return Object(n.jsxs)("div",{className:"subtotal",children:[Object(n.jsx)(B.a,{renderText:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:["Subtotal (",c.length," items): ",Object(n.jsx)("strong",{children:"".concat(e)})]}),Object(n.jsxs)("small",{className:"subtotal-gift",children:[Object(n.jsx)("input",{type:"checkbox"})," This is contains a gift."]})]})},decimalScal:2,value:P(c),displayType:"text",thousandSeparator:!0,prefix:"$"}),Object(n.jsx)("button",{onClick:function(){s.push("/submit")},children:"Proceed to checkout"})]})};var R=function(){var e=O(),t=Object(o.a)(e,2),c=t[0].basket;return t[1],Object(n.jsxs)("div",{className:"checkout-page",children:[Object(n.jsx)("div",{className:"checkou",children:Object(n.jsx)("img",{className:"checkout-ad",src:N,alt:""})}),0===(null===c||void 0===c?void 0:c.length)?Object(n.jsxs)("div",{className:"empty-msg",children:[Object(n.jsx)("h2",{children:" Your Shopping Basket is empty"}),Object(n.jsx)("p",{children:'You have no item in your basket. To buy one or "ADD to Basket" next to the item.'})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"checkout-title",children:"Your Shopping Basket"}),c.map((function(e){return Object(n.jsx)(T,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]}),c.length>0&&Object(n.jsx)("div",{className:"checkout-right",children:Object(n.jsx)(w,{})})]})};c(65);var F=function(){var e=O(),t=Object(o.a)(e,2),c=t[0],s=(c.basket,c.user),a=(c.products,t[1],Object(j.f)());return Object(n.jsxs)("div",{className:"submit-checkout",children:[Object(n.jsx)("h1",{children:"Congratulation!!"}),Object(n.jsx)("h3",{children:"Your resevation is on the way."}),Object(n.jsxs)("h5",{children:["Check your email ",null===s||void 0===s?void 0:s.email," to track your order"]}),Object(n.jsx)("button",{onClick:function(){return a.push("/")},children:"Back To home"})]})};var U=function(){var e=O(),t=Object(o.a)(e,2),c=t[0].basket,a=t[1];return Object(s.useEffect)((function(){var e=m.onAuthStateChanged((function(e){a(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}));return function(){e()}}),[c]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(j.c,{children:[Object(n.jsxs)(j.a,{path:"/checkout",children:[Object(n.jsx)(f,{}),Object(n.jsx)(R,{})]}),Object(n.jsx)(j.a,{path:"/login",children:Object(n.jsx)(x,{})}),Object(n.jsx)(j.a,{path:"/submit",children:Object(n.jsx)(F,{})}),Object(n.jsxs)(j.a,{path:"/",children:[Object(n.jsx)(f,{}),Object(n.jsx)(E,{})]})]})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(h,{initailState:{basket:[],user:null,products:[]},reducer:D,children:Object(n.jsx)(U,{})})}),document.getElementById("root")),M()}},[[67,1,2]]]);
//# sourceMappingURL=main.2244bf9c.chunk.js.map